{"_id":"gtoken","_rev":"10-2f338600e2741c20b1bda1340e2d2207","name":"gtoken","description":"Node.js Google Authentication Service Account Tokens","dist-tags":{"latest":"1.2.2"},"versions":{"1.0.0":{"name":"gtoken","version":"1.0.0","description":"Node.js Google Authentication Service Account Tokens","main":"./lib/index.js","repository":{"type":"git","url":"https://github.com/ryanseys/node-gtoken.git"},"scripts":{"test":"mocha --timeout 5000"},"keywords":["google","service","account","api","token","api","auth"],"author":{"name":"Ryan Seys"},"license":"MIT","dependencies":{"google-p12-pem":"0.0.1","jws":"0.2.6","mime":"1.2.11","request":"2.47.0"},"devDependencies":{"mocha":"2.0.1","sandboxed-module":"1.0.2"},"gitHead":"ffc42f4a522a23cb4d4f2246da66640796726a5c","bugs":{"url":"https://github.com/ryanseys/node-gtoken/issues"},"homepage":"https://github.com/ryanseys/node-gtoken","_id":"gtoken@1.0.0","_shasum":"108c98493cbb36cb34d19424b449ecd8316e93f9","_from":".","_npmVersion":"2.1.6","_nodeVersion":"0.10.33","_npmUser":{"name":"ryanseys","email":"ryan@ryanseys.com"},"maintainers":[{"name":"ryanseys","email":"ryan@ryanseys.com"}],"dist":{"shasum":"108c98493cbb36cb34d19424b449ecd8316e93f9","tarball":"https://registry.npmjs.org/gtoken/-/gtoken-1.0.0.tgz"},"directories":{}},"1.1.0":{"name":"gtoken","version":"1.1.0","description":"Node.js Google Authentication Service Account Tokens","main":"./lib/index.js","repository":{"type":"git","url":"https://github.com/ryanseys/node-gtoken.git"},"scripts":{"test":"mocha --timeout 5000"},"keywords":["google","service","account","api","token","api","auth"],"author":{"name":"Ryan Seys"},"license":"MIT","dependencies":{"google-p12-pem":"0.0.1","jws":"0.2.6","mime":"1.2.11","request":"2.47.0"},"devDependencies":{"mocha":"2.0.1","sandboxed-module":"1.0.2"},"gitHead":"d1182884191dea1b2642eebc31a55a335ac7afc4","bugs":{"url":"https://github.com/ryanseys/node-gtoken/issues"},"homepage":"https://github.com/ryanseys/node-gtoken","_id":"gtoken@1.1.0","_shasum":"fe1a406dd87d076e44e4e62162b69946fb05a9db","_from":".","_npmVersion":"2.5.1","_nodeVersion":"0.12.0","_npmUser":{"name":"ryanseys","email":"ryan@ryanseys.com"},"maintainers":[{"name":"ryanseys","email":"ryan@ryanseys.com"}],"dist":{"shasum":"fe1a406dd87d076e44e4e62162b69946fb05a9db","tarball":"https://registry.npmjs.org/gtoken/-/gtoken-1.1.0.tgz"},"directories":{}},"1.1.1":{"name":"gtoken","version":"1.1.1","description":"Node.js Google Authentication Service Account Tokens","main":"./lib/index.js","repository":{"type":"git","url":"https://github.com/ryanseys/node-gtoken.git"},"scripts":{"test":"mocha --timeout 5000"},"keywords":["google","service","account","api","token","api","auth"],"author":{"name":"Ryan Seys"},"license":"MIT","dependencies":{"google-p12-pem":"^0.0.1","jws":"^3.0.0","mime":"^1.2.11","request":"^2.55.0"},"devDependencies":{"mocha":"^2.0.1","sandboxed-module":"^1.0.2"},"gitHead":"2d8575367735799abb82cf95226a3fc9c0cb9e9a","bugs":{"url":"https://github.com/ryanseys/node-gtoken/issues"},"homepage":"https://github.com/ryanseys/node-gtoken","_id":"gtoken@1.1.1","_shasum":"969af828d1f7efea32a500ea09b0edfa8e0c438a","_from":".","_npmVersion":"1.4.28","_npmUser":{"name":"ryanseys","email":"ryan@ryanseys.com"},"maintainers":[{"name":"ryanseys","email":"ryan@ryanseys.com"}],"dist":{"shasum":"969af828d1f7efea32a500ea09b0edfa8e0c438a","tarball":"https://registry.npmjs.org/gtoken/-/gtoken-1.1.1.tgz"},"directories":{}},"1.1.2":{"name":"gtoken","version":"1.1.2","description":"Node.js Google Authentication Service Account Tokens","main":"./lib/index.js","repository":{"type":"git","url":"git+https://github.com/ryanseys/node-gtoken.git"},"scripts":{"test":"mocha --timeout 5000"},"keywords":["google","service","account","api","token","api","auth"],"author":{"name":"Ryan Seys"},"license":"MIT","dependencies":{"google-p12-pem":"^0.1.0","jws":"^3.0.0","mime":"^1.2.11","request":"^2.55.0"},"devDependencies":{"mocha":"^2.0.1","sandboxed-module":"^1.0.2"},"gitHead":"027ecf5beee48d6cc3bad5b94c30834e1ecc6d5b","bugs":{"url":"https://github.com/ryanseys/node-gtoken/issues"},"homepage":"https://github.com/ryanseys/node-gtoken#readme","_id":"gtoken@1.1.2","_shasum":"e089491caa9beeeb7050180e081f498372b2184b","_from":".","_npmVersion":"2.10.1","_nodeVersion":"0.12.4","_npmUser":{"name":"ryanseys","email":"ryan@ryanseys.com"},"dist":{"shasum":"e089491caa9beeeb7050180e081f498372b2184b","tarball":"https://registry.npmjs.org/gtoken/-/gtoken-1.1.2.tgz"},"maintainers":[{"name":"ryanseys","email":"ryan@ryanseys.com"}],"directories":{}},"1.2.0":{"name":"gtoken","version":"1.2.0","description":"Node.js Google Authentication Service Account Tokens","main":"./lib/index.js","repository":{"type":"git","url":"git+https://github.com/ryanseys/node-gtoken.git"},"scripts":{"test":"mocha --timeout 5000"},"keywords":["google","service","account","api","token","api","auth"],"author":{"name":"Ryan Seys"},"license":"MIT","dependencies":{"google-p12-pem":"^0.1.0","jws":"^3.0.0","mime":"^1.2.11","request":"^2.55.0"},"devDependencies":{"mocha":"^2.0.1","sandboxed-module":"^1.0.2"},"gitHead":"723a681d4cd469d8fde04b7657b8fa87a5ebc851","bugs":{"url":"https://github.com/ryanseys/node-gtoken/issues"},"homepage":"https://github.com/ryanseys/node-gtoken#readme","_id":"gtoken@1.2.0","_shasum":"bdab238758c355cecff569375efd76e236331b13","_from":".","_npmVersion":"2.10.1","_nodeVersion":"0.12.4","_npmUser":{"name":"ryanseys","email":"ryan@ryanseys.com"},"dist":{"shasum":"bdab238758c355cecff569375efd76e236331b13","tarball":"https://registry.npmjs.org/gtoken/-/gtoken-1.2.0.tgz"},"maintainers":[{"name":"ryanseys","email":"ryan@ryanseys.com"}],"directories":{}},"1.2.1":{"name":"gtoken","version":"1.2.1","description":"Node.js Google Authentication Service Account Tokens","main":"./lib/index.js","repository":{"type":"git","url":"git+https://github.com/ryanseys/node-gtoken.git"},"scripts":{"test":"mocha --timeout 5000"},"keywords":["google","service","account","api","token","api","auth"],"author":{"name":"Ryan Seys"},"license":"MIT","dependencies":{"google-p12-pem":"^0.1.0","jws":"^3.0.0","mime":"^1.2.11","request":"^2.72.0"},"devDependencies":{"mocha":"^2.0.1"},"gitHead":"c72286475f88e41e1db02a5ed6178070da3a1be5","bugs":{"url":"https://github.com/ryanseys/node-gtoken/issues"},"homepage":"https://github.com/ryanseys/node-gtoken#readme","_id":"gtoken@1.2.1","_shasum":"90153a547c2fc1cd24a4d3d2ab3b5aba0a26897a","_from":".","_npmVersion":"2.15.5","_nodeVersion":"4.4.5","_npmUser":{"name":"ryanseys","email":"ryan@ryanseys.com"},"maintainers":[{"name":"ryanseys","email":"ryan@ryanseys.com"}],"dist":{"shasum":"90153a547c2fc1cd24a4d3d2ab3b5aba0a26897a","tarball":"https://registry.npmjs.org/gtoken/-/gtoken-1.2.1.tgz"},"_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/gtoken-1.2.1.tgz_1465101032803_0.10419545043259859"},"directories":{}},"1.2.2":{"name":"gtoken","version":"1.2.2","description":"Node.js Google Authentication Service Account Tokens","main":"./lib/index.js","repository":{"type":"git","url":"git+https://github.com/ryanseys/node-gtoken.git"},"scripts":{"test":"mocha --timeout 5000"},"keywords":["google","service","account","api","token","api","auth"],"author":{"name":"Ryan Seys"},"license":"MIT","dependencies":{"google-p12-pem":"^0.1.0","jws":"^3.0.0","mime":"^1.2.11","request":"^2.72.0"},"devDependencies":{"mocha":"^2.0.1"},"gitHead":"deb8410950d708c9cc272b151d7eaa45d0bacb1b","bugs":{"url":"https://github.com/ryanseys/node-gtoken/issues"},"homepage":"https://github.com/ryanseys/node-gtoken#readme","_id":"gtoken@1.2.2","_shasum":"172776a1a9d96ac09fc22a00f5be83cee6de8820","_from":".","_npmVersion":"2.15.5","_nodeVersion":"4.4.5","_npmUser":{"name":"ryanseys","email":"ryan@ryanseys.com"},"maintainers":[{"name":"ryanseys","email":"ryan@ryanseys.com"}],"dist":{"shasum":"172776a1a9d96ac09fc22a00f5be83cee6de8820","tarball":"https://registry.npmjs.org/gtoken/-/gtoken-1.2.2.tgz"},"_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/gtoken-1.2.2.tgz_1489295569572_0.25653071817941964"},"directories":{}}},"readme":"# node-gtoken\n\nNode.js Google Authentication Service Account Tokens\n\n[![Build Status](https://travis-ci.org/ryanseys/node-gtoken.svg?branch=master)](https://travis-ci.org/ryanseys/node-gtoken)\n\n## Installation\n\n``` sh\nnpm install gtoken\n```\n\n## Usage\n\n### Use with a `.pem` or `.p12` key file:\n\n``` js\nvar GoogleToken = require('gtoken');\nvar gtoken = GoogleToken({\n  keyFile: 'path/to/key.pem', // or path to .p12 key file\n  email: 'my_service_account_email@developer.gserviceaccount.com',\n  scope: ['https://scope1', 'https://scope2'] // or space-delimited string of scopes\n});\n\ngtoken.getToken(function(err, token) {\n  if (err) {\n    console.log(err);\n    return;\n  }\n  console.log(token);\n});\n```\n\n### Use with a service account `.json` key file:\n\n``` js\nvar GoogleToken = require('gtoken');\nvar gtoken = GoogleToken({\n  keyFile: 'path/to/key.json',\n  scope: ['https://scope1', 'https://scope2'] // or space-delimited string of scopes\n});\n\ngtoken.getToken(function(err, token) {\n  if (err) {\n    console.log(err);\n    return;\n  }\n  console.log(token);\n});\n```\n\n### Pass the private key as a string directly:\n\n``` js\nvar key = '-----BEGIN RSA PRIVATE KEY-----\\nXXXXXXXXXXX...';\nvar GoogleToken = require('gtoken');\nvar gtoken = GoogleToken({\n  email: 'my_service_account_email@developer.gserviceaccount.com',\n  scope: ['https://scope1', 'https://scope2'], // or space-delimited string of scopes\n  key: key\n});\n```\n\n## Options\n\n> Various options that can be set when creating initializing the `gtoken` object.\n\n- `options.email or options.iss`: The service account email address.\n- `options.scope`: An array of scope strings or space-delimited string of scopes.\n- `options.sub`: The email address of the user requesting delegated access.\n- `options.keyFile`: The filename of `.json` key, `.pem` key or `.p12` key.\n- `options.key`: The raw RSA private key value, in place of using `options.keyFile`.\n\n### .getToken(callback)\n\n> Returns the cached token or requests a new one and returns it.\n\n``` js\ngtoken.getToken(function(err, token) {\n  console.log(err || token);\n  // gtoken.token value is also set\n});\n```\n\n### Properties\n\n> Various properties set on the gtoken object after call to `.getToken()`.\n\n- `gtoken.token`: The access token.\n- `gtoken.expires_at`: The expiry date as milliseconds since 1970/01/01\n- `gtoken.key`: The raw key value.\n- `gtoken.raw_token`: Most recent raw token data received from Google.\n\n### .hasExpired()\n\n> Returns true if the token has expired, or token does not exist.\n\n``` js\ngtoken.getToken(function(err, token) {\n  if(token) {\n    gtoken.hasExpired(); // false\n  }\n});\n```\n\n### .revokeToken()\n\n> Revoke the token if set.\n\n``` js\ngtoken.revokeToken(function(err) {\n  if (err) {\n    console.log(err);\n    return;\n  }\n  console.log('Token revoked!');\n});\n```\n\n## Downloading your private `.p12` key from Google\n\n1. Open the [Google Developer Console][gdevconsole].\n2. Open your project and under \"APIs & auth\", click Credentials.\n3. Generate a new `.p12` key and download it into your project.\n\n## Converting your `.p12` key to a `.pem` key\n\nYou can just specify your `.p12` file (with `.p12` extension) as the `keyFile` and it will automatically be converted to a `.pem` on the fly, however this results in a slight performance hit. If you'd like to convert to a `.pem` for use later, use OpenSSL if you have it installed.\n\n``` sh\n$ openssl pkcs12 -in key.p12 -nodes -nocerts > key.pem\n```\n\nDon't forget, the passphrase when converting these files is the string `'notasecret'`\n\n## License\n\nMIT\n\n[gdevconsole]: https://console.developers.google.com\n","maintainers":[{"name":"ryanseys","email":"ryan@ryanseys.com"}],"time":{"modified":"2017-03-12T05:12:49.828Z","created":"2014-11-08T01:49:26.800Z","1.0.0":"2014-11-08T01:49:26.800Z","1.1.0":"2015-03-23T22:43:59.364Z","1.1.1":"2015-04-15T17:30:23.818Z","1.1.2":"2015-07-21T22:33:51.230Z","1.2.0":"2015-09-18T02:43:19.706Z","1.2.1":"2016-06-05T04:30:35.126Z","1.2.2":"2017-03-12T05:12:49.828Z"},"homepage":"https://github.com/ryanseys/node-gtoken#readme","keywords":["google","service","account","api","token","api","auth"],"repository":{"type":"git","url":"git+https://github.com/ryanseys/node-gtoken.git"},"author":{"name":"Ryan Seys"},"bugs":{"url":"https://github.com/ryanseys/node-gtoken/issues"},"license":"MIT","readmeFilename":"README.md","users":{"anoubis":true},"_attachments":{},"_etag":"W/\"58c4d8d1-3174\"","_lastModified":"Sun, 12 Mar 2017 05:12:49 GMT"}